<div class="container-fluid profil-section">
  <h1 class="page-title">{{ 'YOUR_PROFIL_INFO' | translate }}, {{ user.firstNameLastName }}</h1>

  <div class="card">
    <form [formGroup]="form" class="profil-input" (change)="submit()">
    <div class="row">

      <!-- PERSONAL SECTION -->
      <div class="col-md-6 col-xl-4">
        <h2 class="card-title">{{ 'PERSONAL_INFO' | translate }}</h2>
        <div class="profile-pic d-flex mb-5">
          <div class="pic mr-3">
            <p>{{ 'PROFIL_PIC' | translate }}</p>
            <div class="profil-img bg-cover-img"
              [ngStyle]="{'background-image': user.avatar!=='' ? 'url('+ user.avatar + ')' : ''}"></div>
          </div>
          <div class="d-flex flex-column justify-content-end">
            <label class="bg-img-upload d-flex justify-content-start align-items-center cursor-pointer text-underline">
              {{ 'IMPORT_NEW_PIC' | translate }}
              <input #avatarUpload type="file" accept=".jpg, .png" (change)="changeAvatar(avatarUpload)" class="d-none">
            </label>
            <p class="mb-0"><a class="cursor-pointer remove-pic text-underline" (click)="removePic()">{{ 'REMOVE_PIC' | translate
                }}</a></p>
          </div>
        </div>
          <div class="form-group">
            <div class="input-group">
              <label class="input-label">{{ 'NAME' | translate }}</label>
              <input type="text" class="form-control" [formControlName]="'lastName'">
            </div>
            <div class="input-group">
              <label class="input-label">{{ 'SURNAME' | translate }}</label>
              <input type="text" class="form-control" [formControlName]="'firstName'">
            </div>
            <div class="input-group">
              <label class="input-label">{{ 'EMAIL_ADDRESS' | translate }}</label>
              <input type="text" class="form-control" [formControlName]="'email'">
            </div>
          </div>
      </div>
      <!-- PERSONAL SECTION END -->

      <!-- TEAM INFO SECTION -->
      <div class="col-md-6 col-xl-4">
        <div class="profile-lang-select">
          <h2 class="card-title">{{ 'EDITOR_LANGUAGE' | translate }}</h2>
          <div class="form-group col-md-8 col-sm-10 pl-0">
            <select class="form-control" id="conversationSelect" (change)="updateLang($event.target)">
              <option *ngFor="let lang of languages" [value]="lang.code"
              [selected]="lang.code === translate.defaultLang">{{lang.label | translate}}</option>
            </select>
          </div>
        </div>

        <h2 class="card-title">{{ 'TEAM_INFO' | translate }}</h2>
          <div class="input-group">
            <label class="input-label">{{ 'ORGANISATION' | translate }}</label>
            <input type="text" class="form-control" [formControlName]="'organisations'" [readOnly]="true">
          </div>
          <div class="input-group">
            <label class="input-label">{{ 'POSITION' | translate }}</label>
            <input type="text" class="form-control" [formControlName]="'position'">
          </div>
          <div class="input-group">
            <label class="input-label">{{ 'TEAM_SERVICE' | translate }}</label>
            <input type="text" class="form-control" [formControlName]="'teamService'">
          </div>
      </div>
      <!-- TEAM INFO SECTION END-->

      <!-- PASSWORD RESET SECTION -->
<!--      <div class="col-md-4">-->
<!--        <h2 class="card-title">{{ 'PASSWORD_MANAGEMENT' | translate }}</h2>-->
<!--        <div>-->
<!--          <p>{{ 'NEW_PASSWORD' | translate }}</p>-->
<!--          <button class="btn-rounded-outline-secondary" (click)="openModal(newPasswordModal)">{{-->
<!--            'BUTTONS.GENERATE_NEW_PASSWORD' | translate }}</button>-->
<!--        </div>-->
<!--      </div>-->
      <!-- PASSWORD RESET SECTION END-->

    </div>
    </form>
  </div>
</div>

<!-- NEW PASSWORD POPUP -->
<ng-template #newPasswordModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">{{ 'NEW_PASSWORD' | translate }}</h4>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <div class="input-group">
          <label for="password" class="input-label">{{ 'NEW_PASSWORD' | translate }}</label>
          <input id="password" type="password" #passwordVal class="form-control" formControlName="password">
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer modal-btn-group w-100 d-flex">
    <div class="btn-cancel-section">
      <button type="button" class="btn btn-with-icon w-100 justify-content-center"
        (click)="modal.dismiss('Cross click')">
        <span class="btn-left-border w-100 d-flex justify-content-center align-items-center">
          <i class="icon-cancel"></i>
          <span>{{ 'BUTTONS.CANCEL' | translate }}</span>
        </span>
      </button>
    </div>
    <div class="btn-save-section">
      <button type="button" class="btn btn-with-icon w-100 justify-content-center" (click)="savePassword(passwordVal)">
        <span class="w-100 d-flex justify-content-center align-items-center">
          <i class="icon-sent"></i>
          <span>{{ 'SAVE' | translate }}</span>
        </span>
      </button>
    </div>
  </div>
</ng-template>
<!-- NEW PASSWORD POPUP END -->
